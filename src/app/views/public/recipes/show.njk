{% extends "layouts/public.njk" %}

{% block head %}
    <title> Foodfy | {{recipe.title}}
    </title>
{% endblock %}

{% block content %}
    <main class="recipes">
        <section class="recipe__info container">
            <div class="highlight">
                <img class="recipe__image"
                    {% if files[0].path %}
                        src="{{files[0].path}}"
                    {% else %}
                        src="https://place-hold.it/500x500?text=Receita%20sem%20foto"
                    {% endif %}
                    alt="Receita de {{recipe.title}}"
                    title="{{recipe.title}}"
                    aria-label="{{recipe.title}}"
                />
            </div>
            <div class="gallery-preview">
                {% for photo in files %}
                    <img
                        src="{{photo.path}}"
                        {% if loop.first %} class="active" {% endif %}
                        onclick="ImageGallery.setImage(event)"
                    />
                {% endfor %}
            </div>
            <h1 class="recipe__title title font-xl">{{recipe.title}}</h1>
            <h3 class="recipe__author">{{recipe.chef_name}}</h3>
        </section>
        <section class="recipe__ingredients container">
            <div class="row">
                <h3 class="subtitle font-md">Ingredientes</h3>
                <button onclick="ToggleElement.toggle(event, '.js-list.ingredients')" class="show-button js-show-button btn-ingredients" data-target=".recipe-ingredients .list">Esconder</button>
            </div>
            <ul class="list js-list ingredients">
                {% for ingredient in recipe.ingredients %}
                    <li>{{ingredient}}
                    </li>
                {% endfor %}
            </ul>

        </section>
        <section class="recipe__preparation container">
            <div class="row">
                <h3 class="subtitle font-md"font-md>Modo de preparo</h3>
                <button onclick="ToggleElement.toggle(event, '.js-list.preparation')" class="show-button js-show-button btn-preparation">Esconder</button>
            </div>
            <ul class="list js-list preparation">
                {% for intruction in recipe.preparations %}
                    <li>{{intruction}}</li>
                {% endfor %}
            </ul>
        </section>
        {% if recipe.information %}
            <section class="recipe__information container">
                <div class="row">
                    <h3 class="subtitle font-md"font-md>Informações adicionais</h3>
                    <button onclick="ToggleElement.toggle(event, '.js-text.information')" class="show-button js-show-button btn-information">Esconder</button>
                </div>
                <p class="text js-text information">{{recipe.information}}</p>
            </section>
        {% endif %}
    </main>
{% endblock %}
